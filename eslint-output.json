[{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\App.vue","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\components\\SideHistory.vue","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\components\\Sidebar.vue","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\components\\common\\DropdownSelect.vue","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\components\\modal\\AppUpdaterModal.vue","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\components\\modal\\DownloadQueueModal.vue","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\components\\modal\\PlaylistModal.vue","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\components\\modal\\YtDlModal.vue","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\components\\views\\About.vue","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement. Only these console methods are allowed: warn, error.","line":170,"column":13,"nodeType":"MemberExpression","messageId":"limited","endLine":170,"endColumn":24,"suggestions":[{"fix":{"range":[9805,9888],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"<template>\r\n    <div class=\"float-left mt-6 h-full w-[calc(100%-7rem)] overflow-hidden\">\r\n        <div class=\"relative float-left h-[90%] w-[22vw]\">\r\n            <img src=\"@/assets/YTD.CC.png\" class=\"mx-auto my-4 w-[60%]\" />\r\n            <hr class=\"w-full\" />\r\n            <button\r\n                class=\"mx-auto my-5 flex h-8 cursor-not-allowed rounded-md border-t border-slate-600 bg-slate-800 hover:bg-slate-700\"\r\n                @click=\"checkAppUpdate\"\r\n            >\r\n                <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 640 512\"\r\n                    class=\"mx-3 my-auto h-6 w-6 fill-white\"\r\n                >\r\n                    <!--! Font Awesome Pro 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->\r\n                    <path\r\n                        d=\"M144 480C64.47 480 0 415.5 0 336C0 273.2 40.17 219.8 96.2 200.1C96.07 197.4 96 194.7 96 192C96 103.6 167.6 32 256 32C315.3 32 367 64.25 394.7 112.2C409.9 101.1 428.3 96 448 96C501 96 544 138.1 544 192C544 204.2 541.7 215.8 537.6 226.6C596 238.4 640 290.1 640 352C640 422.7 582.7 480 512 480H144zM303 392.1C312.4 402.3 327.6 402.3 336.1 392.1L416.1 312.1C426.3 303.6 426.3 288.4 416.1 279C407.6 269.7 392.4 269.7 383 279L344 318.1V184C344 170.7 333.3 160 320 160C306.7 160 296 170.7 296 184V318.1L256.1 279C247.6 269.7 232.4 269.7 223 279C213.7 288.4 213.7 303.6 223 312.1L303 392.1z\"\r\n                    />\r\n                </svg>\r\n                <a class=\"my-auto mr-3 text-blue-200\">瑼Ｘ?湔</a>\r\n            </button>\r\n\r\n            <button\r\n                class=\"mx-auto my-5 flex h-8 rounded-md border-t border-slate-500 bg-slate-700 hover:bg-slate-600\"\r\n                @click=\"openLink('https://github.com/Tab-Etuc/YTD-CC/issues/new')\"\r\n            >\r\n                <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 512 512\"\r\n                    class=\"mx-3 my-auto h-5 w-5 fill-white\"\r\n                >\r\n                    <!--! Font Awesome Pro 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->\r\n                    <path\r\n                        d=\"M493.6 163c-24.88-19.62-45.5-35.37-164.3-121.6C312.7 29.21 279.7 0 256.4 0H255.6C232.3 0 199.3 29.21 182.6 41.38c-118.8 86.25-139.4 101.1-164.3 121.6C6.75 172 0 186 0 200.8v263.2C0 490.5 21.49 512 48 512h416c26.51 0 48-21.49 48-47.1V200.8C512 186 505.3 172 493.6 163zM303.2 367.5C289.1 378.5 272.5 384 256 384s-33.06-5.484-47.16-16.47L64 254.9V208.5c21.16-16.59 46.48-35.66 156.4-115.5c3.18-2.328 6.891-5.187 10.98-8.353C236.9 80.44 247.8 71.97 256 66.84c8.207 5.131 19.14 13.6 24.61 17.84c4.09 3.166 7.801 6.027 11.15 8.478C400.9 172.5 426.6 191.7 448 208.5v46.32L303.2 367.5z\"\r\n                    />\r\n                </svg>\r\n                <a class=\"my-auto mr-3 text-blue-200\">???</a>\r\n            </button>\r\n\r\n            <button\r\n                class=\"mx-auto my-5 flex h-8 rounded-md border-t border-slate-500 bg-slate-700 hover:bg-slate-600\"\r\n                @click=\"openLink('https://github.com/Tab-Etuc/YTD-CC')\"\r\n            >\r\n                <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 496 512\"\r\n                    class=\"mx-3 my-auto h-6 w-6 fill-white\"\r\n                >\r\n                    <!--! Font Awesome Pro 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. -->\r\n                    <path\r\n                        d=\"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z\"\r\n                    />\r\n                </svg>\r\n                <a class=\"my-auto mr-3 text-blue-200\">Github 撠?</a>\r\n            </button>\r\n        </div>\r\n\r\n        <div class=\"scrollbar mx-5 h-[90%] w-[calc(100%-22vw)] overflow-x-hidden\">\r\n            <div class=\"ml-5\">\r\n                <div class=\"mb-10\">\r\n                    <p\r\n                        class=\"cursor-defaultmt-2 mb-10 text-4xl leading-tight font-extrabold tracking-wide text-blue-400 select-none\"\r\n                    >\r\n                        ?\r\n                    </p>\r\n\r\n                    <p\r\n                        class=\"cursor-defaultmt-2 mb-10 ml-4 text-base leading-tight font-extrabold tracking-wide text-red-100 select-none\"\r\n                    >\r\n                        YTD.CC ?: {{ appVersion || '銝?' }}\r\n                    </p>\r\n                    <div class=\"flex w-full\">\r\n                        <img src=\"@/assets/tauri_logo_dark.svg\" alt=\"\" class=\"mx-5 my-auto h-12\" />\r\n                        <img src=\"@/assets/vue_logo.svg\" alt=\"\" class=\"mx-5 h-14\" />\r\n                    </div>\r\n                    <img\r\n                        src=\"@/assets/tailwindcss-logotype-white.svg\"\r\n                        alt=\"\"\r\n                        class=\"mx-5 mt-8 h-10\"\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <p\r\n                        class=\"cursor-defaultmt-2 mb-10 text-4xl leading-tight font-extrabold tracking-wide text-blue-400 select-none\"\r\n                    >\r\n                        ??r\n                    </p>\r\n                    <div class=\"mb-10 flex h-32 w-full\">\r\n                        <img\r\n                            src=\"@/assets/about_avatar.webp\"\r\n                            alt=\"\"\r\n                            class=\"h-28 w-28 rounded-full\"\r\n                        />\r\n                        <div>\r\n                            <p\r\n                                class=\"cursor-defaultmt-2 mt-5 ml-12 text-xl leading-tight font-extrabold tracking-wide text-red-100 select-none\"\r\n                            >\r\n                                Tab Etuc\r\n                            </p>\r\n                            <a\r\n                                class=\"mt-3 ml-12 flex cursor-pointer text-teal-400 underline\"\r\n                                @click=\"openLink('https://github.com/Tab-Etuc')\"\r\n                                >Github Profile</a\r\n                            >\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div>\r\n                    <p\r\n                        class=\"cursor-defaultmt-2 mb-10 text-4xl leading-tight font-extrabold tracking-wide text-blue-400 select-none\"\r\n                    >\r\n                        ??\r\n                    </p>\r\n                    <ul\r\n                        class=\"cursor-defaultmt-2 mt-5 ml-12 text-xl leading-tight font-extrabold tracking-wide text-red-100 select-none\"\r\n                    >\r\n                        <p class=\"\">?ａ???璈怠?</p>\r\n                        <li\r\n                            class=\"mt-3 cursor-pointer text-sm text-teal-400 underline\"\r\n                            @click=\"\r\n                                openLink(\r\n                                    'https://twitter.com/dabidabi76/status/1369344876555481092'\r\n                                )\r\n                            \"\r\n                        >\r\n                            https://twitter.com/dabidabi76/status/1369344876555481092\r\n                        </li>\r\n                    </ul>\r\n                    <ul\r\n                        class=\"cursor-defaultmt-2 mt-5 ml-12 text-xl leading-tight font-extrabold tracking-wide text-red-100 select-none\"\r\n                    >\r\n                        <p class=\"\">?ａ??/p>\r\n                        <li\r\n                            class=\"my-3 cursor-pointer text-sm text-teal-400 underline\"\r\n                            @click=\"openLink('https://www.pixiv.net/artworks/86231494')\"\r\n                        >\r\n                            https://www.pixiv.net/artworks/86231494\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onMounted } from 'vue';\r\nimport { open } from '@tauri-apps/plugin-shell';\r\nimport { getVersion } from '@tauri-apps/api/app';\r\nimport { check } from '@tauri-apps/plugin-updater';\r\n\r\ndefineOptions({\r\n    name: 'About',\r\n});\r\n\r\n// State\r\nconst appVersion = ref('');\r\n\r\n// Methods\r\nasync function openLink(url: string): Promise<void> {\r\n    await open(url);\r\n}\r\n\r\nasync function checkAppUpdate(): Promise<void> {\r\n    try {\r\n        const update = await check();\r\n        if (update) {\r\n            console.log(`Installing update ${update.version}, ${update.date}, ${update.body}`);\r\n            await update.downloadAndInstall();\r\n        }\r\n    } catch (e) {\r\n        console.error(e);\r\n    }\r\n}\r\n\r\n// Lifecycle\r\nonMounted(async () => {\r\n    appVersion.value = await getVersion();\r\n});\r\n</script>\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\components\\views\\History.vue","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\components\\views\\Home.vue","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\components\\views\\Settings.vue","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\composables\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\composables\\useClipboard.ts","messages":[{"ruleId":"@typescript-eslint/explicit-function-return-type","severity":1,"message":"Missing return type on function.","line":9,"column":8,"nodeType":"FunctionDeclaration","messageId":"missingReturnType","endLine":9,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * ?芾票蝪?Composable\r\n * 撠??芾票蝪輯?撖急?雿r\n */\r\n\r\nimport { ref } from 'vue';\r\nimport { readText, writeText } from '@tauri-apps/plugin-clipboard-manager';\r\n\r\nexport function useClipboard() {\r\n    const clipboardContent = ref<string>('');\r\n    const error = ref<Error | null>(null);\r\n    const isReading = ref(false);\r\n\r\n    /**\r\n     * 霈?鞎潛倏?批捆\r\n     */\r\n    async function read(): Promise<string> {\r\n        isReading.value = true;\r\n        error.value = null;\r\n\r\n        try {\r\n            const text = await readText();\r\n            clipboardContent.value = text || '';\r\n            return clipboardContent.value;\r\n        } catch (err) {\r\n            error.value = err instanceof Error ? err : new Error(String(err));\r\n            return '';\r\n        } finally {\r\n            isReading.value = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 撖怠?批捆?啣鞎潛倏\r\n     */\r\n    async function write(text: string): Promise<boolean> {\r\n        error.value = null;\r\n\r\n        try {\r\n            await writeText(text);\r\n            clipboardContent.value = text;\r\n            return true;\r\n        } catch (err) {\r\n            error.value = err instanceof Error ? err : new Error(String(err));\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return {\r\n        clipboardContent,\r\n        error,\r\n        isReading,\r\n        read,\r\n        write,\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\composables\\useExternalLink.ts","messages":[{"ruleId":"@typescript-eslint/explicit-function-return-type","severity":1,"message":"Missing return type on function.","line":9,"column":8,"nodeType":"FunctionDeclaration","messageId":"missingReturnType","endLine":9,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * 憭??? Composable\r\n * 蝯曹?????憭?????獢楝敺r\n */\r\n\r\nimport { open } from '@tauri-apps/plugin-shell';\r\nimport { invoke } from '@tauri-apps/api/core';\r\n\r\nexport function useExternalLink() {\r\n    /**\r\n     * ??憭????瑼?蝮賜恣銝剝＊蝷箄楝敺r\n     */\r\n    async function openLink(url: string): Promise<void> {\r\n        if (!url) {\r\n            return;\r\n        }\r\n\r\n        if (url.startsWith('http://') || url.startsWith('https://')) {\r\n            // ??蝬脤????\r\n            await open(url);\r\n        } else {\r\n            // ?冽?獢蜇蝞∩葉憿舐內\r\n            await invoke('show_in_folder', { path: url });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ?? URL嚗??雯???嚗r\n     */\r\n    async function openUrl(url: string): Promise<void> {\r\n        if (url && (url.startsWith('http://') || url.startsWith('https://'))) {\r\n            await open(url);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ?冽?獢蜇蝞∩葉憿舐內頝臬?\r\n     */\r\n    async function showInFolder(path: string): Promise<void> {\r\n        if (path) {\r\n            await invoke('show_in_folder', { path });\r\n        }\r\n    }\r\n\r\n    return {\r\n        openLink,\r\n        openUrl,\r\n        showInFolder,\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\composables\\useYouTubeParser.ts","messages":[{"ruleId":"@typescript-eslint/explicit-function-return-type","severity":1,"message":"Missing return type on function.","line":16,"column":8,"nodeType":"FunctionDeclaration","messageId":"missingReturnType","endLine":16,"endColumn":33}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * YouTube URL 閫?? Composable\r\n * ???踵?撘? YouTube URL 閫???\r\n */\r\n\r\nimport { ref, computed } from 'vue';\r\nimport {\r\n    parseYouTubeUrl,\r\n    extractVideoId,\r\n    isPlaylistUrl,\r\n    getThumbnailUrl,\r\n    getWatchUrl,\r\n    type YouTubeParseResult,\r\n} from '@/utils/youtube';\r\n\r\nexport function useYouTubeParser() {\r\n    const url = ref('');\r\n    const parseResult = ref<YouTubeParseResult | null>(null);\r\n\r\n    /**\r\n     * 閫??蝯???蝞惇?吭r\n     */\r\n    const isValid = computed(() => parseResult.value?.isValid ?? false);\r\n    const videoId = computed(() => parseResult.value?.videoId ?? null);\r\n    const isPlaylist = computed(() => parseResult.value?.isPlaylist ?? false);\r\n    const playlistId = computed(() => parseResult.value?.playlistId ?? null);\r\n\r\n    /**\r\n     * 敶梁?蝮桀? URL\r\n     */\r\n    const thumbnailUrl = computed(() => {\r\n        if (videoId.value) {\r\n            return getThumbnailUrl(videoId.value);\r\n        }\r\n        return null;\r\n    });\r\n\r\n    /**\r\n     * 閫?? URL\r\n     */\r\n    function parse(inputUrl: string): YouTubeParseResult {\r\n        url.value = inputUrl;\r\n        parseResult.value = parseYouTubeUrl(inputUrl);\r\n        return parseResult.value;\r\n    }\r\n\r\n    /**\r\n     * 皜閫??蝯?\r\n     */\r\n    function clear(): void {\r\n        url.value = '';\r\n        parseResult.value = null;\r\n    }\r\n\r\n    return {\r\n        // State\r\n        url,\r\n        parseResult,\r\n\r\n        // Computed\r\n        isValid,\r\n        videoId,\r\n        isPlaylist,\r\n        playlistId,\r\n        thumbnailUrl,\r\n\r\n        // Methods\r\n        parse,\r\n        clear,\r\n\r\n        // ?湔?湧撌亙?賣\r\n        extractVideoId,\r\n        isPlaylistUrl,\r\n        getThumbnailUrl,\r\n        getWatchUrl,\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\constants\\app.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\constants\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\constants\\quality.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\main.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\router\\index.ts","messages":[{"ruleId":"@typescript-eslint/explicit-function-return-type","severity":1,"message":"Missing return type on function.","line":13,"column":20,"nodeType":"ArrowFunctionExpression","messageId":"missingReturnType","endLine":13,"endColumn":22},{"ruleId":"@typescript-eslint/explicit-function-return-type","severity":1,"message":"Missing return type on function.","line":14,"column":18,"nodeType":"ArrowFunctionExpression","messageId":"missingReturnType","endLine":14,"endColumn":20},{"ruleId":"@typescript-eslint/explicit-function-return-type","severity":1,"message":"Missing return type on function.","line":15,"column":21,"nodeType":"ArrowFunctionExpression","messageId":"missingReturnType","endLine":15,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Vue Router ?蔭\r\n * 雿輻頝舐?嗅?頛??憪??交??穀r\n */\r\n\r\nimport { createRouter, createWebHistory, type RouteRecordRaw } from 'vue-router';\r\n\r\n// 雿輻??撠撖衣頝舐?嗅?頛r\n// Home ?雿銝餉??亙嚗?雿輻?嗅?頛誑蝣箔??雿喲?撅??功r\nimport Home from '@/components/views/Home.vue';\r\n\r\n// ?嗡??雿輻?嗅?頛r\nconst History = () => import('@/components/views/History.vue');\r\nconst About = () => import('@/components/views/About.vue');\r\nconst Settings = () => import('@/components/views/Settings.vue');\r\n\r\nconst routes: RouteRecordRaw[] = [\r\n    {\r\n        path: '/',\r\n        name: 'home',\r\n        component: Home,\r\n        meta: {\r\n            title: 'YTD.CC - YouTube 銝???,\r\n        },\r\n    },\r\n    {\r\n        path: '/history',\r\n        name: 'history',\r\n        component: History,\r\n        meta: {\r\n            title: '銝?甇瑕 - YTD.CC',\r\n        },\r\n    },\r\n    {\r\n        path: '/about',\r\n        name: 'about',\r\n        component: About,\r\n        meta: {\r\n            title: '? - YTD.CC',\r\n        },\r\n    },\r\n    {\r\n        path: '/settings',\r\n        name: 'settings',\r\n        component: Settings,\r\n        meta: {\r\n            title: '閮剖? - YTD.CC',\r\n        },\r\n    },\r\n    // 404 ???擐?\r\n    {\r\n        path: '/:pathMatch(.*)*',\r\n        redirect: '/',\r\n    },\r\n];\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(),\r\n    routes,\r\n    // 皛曉?銵閮剖?\r\n    scrollBehavior(_to, _from, savedPosition) {\r\n        if (savedPosition) {\r\n            return savedPosition;\r\n        }\r\n        return { top: 0 };\r\n    },\r\n});\r\n\r\n// ?典?撠摰? - ?湔?璅?\r\nrouter.beforeEach((to, _from, next) => {\r\n    const title = to.meta?.title;\r\n    if (typeof title === 'string') {\r\n        document.title = title;\r\n    }\r\n    next();\r\n});\r\n\r\nexport default router;\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\services\\errorHandler.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement. Only these console methods are allowed: warn, error.","line":131,"column":9,"nodeType":"MemberExpression","messageId":"limited","endLine":131,"endColumn":31,"suggestions":[{"fix":{"range":[3289,3338],"text":""},"messageId":"removeMethodCall","desc":"Remove the console method call."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement. Only these console methods are allowed: warn, error.","line":133,"column":9,"nodeType":"MemberExpression","messageId":"limited","endLine":133,"endColumn":31,"suggestions":[{"fix":{"range":[3362,3402],"text":""},"messageId":"removeMethodCall","desc":"Remove the console method call."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * YTD-CC ?航炊????\r\n * ??蝯曹??隤方??隤????冽?\r\n */\r\n\r\nimport { ref, readonly } from 'vue';\r\n\r\n// ============================================================================\r\n// ?摰儔\r\n// ============================================================================\r\n\r\n/** ?亥?蝑? */\r\nexport type LogLevel = 'debug' | 'info' | 'warn' | 'error';\r\n\r\n/** ?航炊憿 */\r\nexport type ErrorCategory =\r\n    | 'NETWORK'\r\n    | 'DOWNLOAD'\r\n    | 'FILE_SYSTEM'\r\n    | 'VALIDATION'\r\n    | 'PERMISSION'\r\n    | 'BACKEND'\r\n    | 'UNKNOWN';\r\n\r\n/** ?亥?璇 */\r\nexport interface LogEntry {\r\n    id: number;\r\n    level: LogLevel;\r\n    message: string;\r\n    timestamp: Date;\r\n    category?: ErrorCategory;\r\n    context?: Record<string, unknown>;\r\n    stack?: string;\r\n}\r\n\r\n/** ?蝔??航炊 */\r\nexport class AppError extends Error {\r\n    public readonly category: ErrorCategory;\r\n    public readonly context: Record<string, unknown>;\r\n    public readonly timestamp: Date;\r\n    public readonly isUserFacing: boolean;\r\n    public readonly cause?: Error;\r\n\r\n    constructor(options: {\r\n        message: string;\r\n        category?: ErrorCategory;\r\n        context?: Record<string, unknown>;\r\n        cause?: Error;\r\n        isUserFacing?: boolean;\r\n    }) {\r\n        super(options.message);\r\n        this.name = 'AppError';\r\n        this.category = options.category ?? 'UNKNOWN';\r\n        this.context = options.context ?? {};\r\n        this.timestamp = new Date();\r\n        this.isUserFacing = options.isUserFacing ?? true;\r\n\r\n        if (options.cause) {\r\n            this.cause = options.cause;\r\n            this.stack = options.cause.stack;\r\n        }\r\n    }\r\n\r\n    /** ???冽?末?隤方???*/\r\n    getUserMessage(): string {\r\n        if (!this.isUserFacing) {\r\n            return '?潛??芷????航炊嚗?蝔??岫';\r\n        }\r\n        return this.message;\r\n    }\r\n}\r\n\r\n// ============================================================================\r\n// ?亥???\r\n// ============================================================================\r\n\r\nconst MAX_LOG_ENTRIES = 500;\r\nconst LOG_LEVEL_PRIORITY: Record<LogLevel, number> = {\r\n    debug: 0,\r\n    info: 1,\r\n    warn: 2,\r\n    error: 3,\r\n};\r\n\r\nconst logs = ref<LogEntry[]>([]);\r\nconst currentLogLevel = ref<LogLevel>('info');\r\nlet logIdCounter = 0;\r\n\r\n/** 閮剖??亥?蝑? */\r\nexport function setLogLevel(level: LogLevel): void {\r\n    currentLogLevel.value = level;\r\n}\r\n\r\n/** ????隤?*/\r\nexport function getLogs(): readonly LogEntry[] {\r\n    return readonly(logs).value;\r\n}\r\n\r\n/** 皜??隤?*/\r\nexport function clearLogs(): void {\r\n    logs.value = [];\r\n}\r\n\r\n/** 閮??亥? */\r\nfunction log(level: LogLevel, message: string, context?: Record<string, unknown>): void {\r\n    // 瑼Ｘ?亥?蝑?\r\n    if (LOG_LEVEL_PRIORITY[level] < LOG_LEVEL_PRIORITY[currentLogLevel.value]) {\r\n        return;\r\n    }\r\n\r\n    const entry: LogEntry = {\r\n        id: ++logIdCounter,\r\n        level,\r\n        message,\r\n        timestamp: new Date(),\r\n        context,\r\n    };\r\n\r\n    logs.value.push(entry);\r\n\r\n    // ??亥??賊?\r\n    if (logs.value.length > MAX_LOG_ENTRIES) {\r\n        logs.value = logs.value.slice(-MAX_LOG_ENTRIES);\r\n    }\r\n\r\n    // 頛詨?唳?嗅\r\n    const consoleMethod = level === 'error' ? 'error' : level === 'warn' ? 'warn' : 'log';\r\n    const prefix = `[${level.toUpperCase()}] [${entry.timestamp.toISOString()}]`;\r\n\r\n    if (context) {\r\n        console[consoleMethod](prefix, message, context);\r\n    } else {\r\n        console[consoleMethod](prefix, message);\r\n    }\r\n}\r\n\r\n/** ?亥??拐辣 */\r\nexport const logger = {\r\n    debug: (message: string, context?: Record<string, unknown>) => log('debug', message, context),\r\n    info: (message: string, context?: Record<string, unknown>) => log('info', message, context),\r\n    warn: (message: string, context?: Record<string, unknown>) => log('warn', message, context),\r\n    error: (message: string, context?: Record<string, unknown>) => log('error', message, context),\r\n};\r\n\r\n// ============================================================================\r\n// ?航炊????\r\n// ============================================================================\r\n\r\n/** ?航炊???券???*/\r\ntype ErrorHandler = (error: AppError) => void | Promise<void>;\r\n\r\nconst errorHandlers: ErrorHandler[] = [];\r\nconst recentErrors = ref<AppError[]>([]);\r\n\r\n/** 閮餃??航炊????*/\r\nexport function registerErrorHandler(handler: ErrorHandler): () => void {\r\n    errorHandlers.push(handler);\r\n    return () => {\r\n        const index = errorHandlers.indexOf(handler);\r\n        if (index > -1) {\r\n            errorHandlers.splice(index, 1);\r\n        }\r\n    };\r\n}\r\n\r\n/** ???餈??航炊 */\r\nexport function getRecentErrors(): readonly AppError[] {\r\n    return readonly(recentErrors).value;\r\n}\r\n\r\n/** 皜?航炊閮? */\r\nexport function clearErrors(): void {\r\n    recentErrors.value = [];\r\n}\r\n\r\n/** ???航炊 */\r\nexport async function handleError(error: unknown): Promise<AppError> {\r\n    const appError = normalizeError(error);\r\n\r\n    // 閮??航炊\r\n    logger.error(appError.message, {\r\n        category: appError.category,\r\n        context: appError.context,\r\n        stack: appError.stack,\r\n    });\r\n\r\n    // ?脣??唳?餈隤文?銵沔r\n    recentErrors.value.push(appError);\r\n    if (recentErrors.value.length > 50) {\r\n        recentErrors.value = recentErrors.value.slice(-50);\r\n    }\r\n\r\n    // ?瑁???隤方??\r\n    for (const handler of errorHandlers) {\r\n        try {\r\n            await handler(appError);\r\n        } catch (handlerError) {\r\n            console.error('Error handler failed:', handlerError);\r\n        }\r\n    }\r\n\r\n    return appError;\r\n}\r\n\r\n/** 撠?仿隤斗?皞???AppError */\r\nexport function normalizeError(error: unknown): AppError {\r\n    if (error instanceof AppError) {\r\n        return error;\r\n    }\r\n\r\n    if (error instanceof Error) {\r\n        return new AppError({\r\n            message: error.message,\r\n            category: categorizeError(error),\r\n            cause: error,\r\n        });\r\n    }\r\n\r\n    if (typeof error === 'string') {\r\n        return new AppError({\r\n            message: error,\r\n            category: 'UNKNOWN',\r\n        });\r\n    }\r\n\r\n    return new AppError({\r\n        message: '?潛??芰?航炊',\r\n        category: 'UNKNOWN',\r\n        context: { originalError: error },\r\n    });\r\n}\r\n\r\n/** ?寞??航炊?批捆?芸??? */\r\nfunction categorizeError(error: Error): ErrorCategory {\r\n    const message = error.message.toLowerCase();\r\n\r\n    if (message.includes('network') || message.includes('fetch') || message.includes('timeout')) {\r\n        return 'NETWORK';\r\n    }\r\n    if (message.includes('download') || message.includes('yt-dlp')) {\r\n        return 'DOWNLOAD';\r\n    }\r\n    if (message.includes('file') || message.includes('permission') || message.includes('path')) {\r\n        return 'FILE_SYSTEM';\r\n    }\r\n    if (message.includes('invalid') || message.includes('validation')) {\r\n        return 'VALIDATION';\r\n    }\r\n    if (message.includes('tauri') || message.includes('invoke')) {\r\n        return 'BACKEND';\r\n    }\r\n\r\n    return 'UNKNOWN';\r\n}\r\n\r\n// ============================================================================\r\n// ?航炊撌亙??賣\r\n// ============================================================================\r\n\r\n/** 撱箇?蝬脰楝?航炊 */\r\nexport function createNetworkError(message: string, context?: Record<string, unknown>): AppError {\r\n    return new AppError({\r\n        message,\r\n        category: 'NETWORK',\r\n        context,\r\n    });\r\n}\r\n\r\n/** 撱箇?銝??航炊 */\r\nexport function createDownloadError(message: string, context?: Record<string, unknown>): AppError {\r\n    return new AppError({\r\n        message,\r\n        category: 'DOWNLOAD',\r\n        context,\r\n    });\r\n}\r\n\r\n/** 撱箇?瑼?蝟餌絞?航炊 */\r\nexport function createFileSystemError(\r\n    message: string,\r\n    context?: Record<string, unknown>\r\n): AppError {\r\n    return new AppError({\r\n        message,\r\n        category: 'FILE_SYSTEM',\r\n        context,\r\n    });\r\n}\r\n\r\n/** 撱箇?撽??航炊 */\r\nexport function createValidationError(\r\n    message: string,\r\n    context?: Record<string, unknown>\r\n): AppError {\r\n    return new AppError({\r\n        message,\r\n        category: 'VALIDATION',\r\n        context,\r\n    });\r\n}\r\n\r\n/** 撱箇?敺垢?航炊 */\r\nexport function createBackendError(message: string, context?: Record<string, unknown>): AppError {\r\n    return new AppError({\r\n        message,\r\n        category: 'BACKEND',\r\n        context,\r\n    });\r\n}\r\n\r\n// ============================================================================\r\n// ??甇仿隤文?鋆\r\n// ============================================================================\r\n\r\n/** ????甇亙?賂??芸????航炊 */\r\nexport function withErrorHandling<T extends (...args: unknown[]) => Promise<unknown>>(\r\n    fn: T,\r\n    options?: {\r\n        category?: ErrorCategory;\r\n        fallbackMessage?: string;\r\n        rethrow?: boolean;\r\n    }\r\n): T {\r\n    return (async (...args: Parameters<T>) => {\r\n        try {\r\n            return await fn(...args);\r\n        } catch (error) {\r\n            const appError =\r\n                error instanceof AppError\r\n                    ? error\r\n                    : new AppError({\r\n                          message: options?.fallbackMessage ?? (error as Error).message,\r\n                          category: options?.category ?? 'UNKNOWN',\r\n                          cause: error instanceof Error ? error : undefined,\r\n                      });\r\n\r\n            await handleError(appError);\r\n\r\n            if (options?.rethrow) {\r\n                throw appError;\r\n            }\r\n\r\n            return undefined;\r\n        }\r\n    }) as T;\r\n}\r\n\r\n/** 摰?瑁???甇交?雿?*/\r\nexport async function trySafe<T>(\r\n    fn: () => Promise<T>,\r\n    options?: {\r\n        fallback?: T;\r\n        category?: ErrorCategory;\r\n        message?: string;\r\n    }\r\n): Promise<T | undefined> {\r\n    try {\r\n        return await fn();\r\n    } catch (error) {\r\n        await handleError(\r\n            new AppError({\r\n                message: options?.message ?? (error as Error).message,\r\n                category: options?.category ?? 'UNKNOWN',\r\n                cause: error instanceof Error ? error : undefined,\r\n            })\r\n        );\r\n        return options?.fallback;\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\services\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\stores\\app.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement. Only these console methods are allowed: warn, error.","line":206,"column":13,"nodeType":"MemberExpression","messageId":"limited","endLine":206,"endColumn":24,"suggestions":[{"fix":{"range":[6539,6577],"text":""},"messageId":"removeConsole","data":{"propertyName":"log"},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * YTD-CC 銝餉? Store\r\n * 雿輻 Pinia Setup Store 隤?嚗?靘???TypeScript ?舀\r\n */\r\n\r\nimport { ref, computed } from 'vue';\r\nimport { defineStore } from 'pinia';\r\nimport { invoke } from '@tauri-apps/api/core';\r\nimport { readTextFile, writeTextFile, exists, mkdir, BaseDirectory } from '@tauri-apps/plugin-fs';\r\nimport type { HistoryItem, HistoryData, QueueItem, QueueItemInput, AppSettings } from '@/types';\r\n\r\nexport const useAppStore = defineStore('app', () => {\r\n    // ============================================================================\r\n    // State\r\n    // ============================================================================\r\n\r\n    /** ?臬甇?銝? */\r\n    const isDownloading = ref(false);\r\n\r\n    /** 銝?甇瑕閮??” */\r\n    const historyList = ref<HistoryItem[] | null>(null);\r\n\r\n    /** 銝??脣漲璇??*/\r\n    const downloadProgressBarValue = ref('0%');\r\n\r\n    /** 閬??批?冽?血撌血 */\r\n    const windowControlOnTheLeft = ref(false);\r\n\r\n    /** 銝?頛詨頝臬? */\r\n    const downloadOutputPath = ref('');\r\n\r\n    /** ?臬?脣?甇瑕閮? */\r\n    const saveHistory = ref(true);\r\n\r\n    /** 璈怠???頝臬? */\r\n    const bannerImage = ref('');\r\n\r\n    /** 銝?雿? */\r\n    const downloadQueue = ref<QueueItem[]>([]);\r\n\r\n    /** 雿??臬甇???銝?*/\r\n    const isQueueProcessing = ref(false);\r\n\r\n    /** 雿? ID 閮??*/\r\n    const queueIdCounter = ref(0);\r\n\r\n    // ============================================================================\r\n    // Getters\r\n    // ============================================================================\r\n\r\n    /** 敺???雿???賊? */\r\n    const pendingQueueCount = computed(\r\n        () => downloadQueue.value.filter((i) => i.status === 'pending').length\r\n    );\r\n\r\n    /** ?臬??????*/\r\n    const hasQueueItems = computed(() => downloadQueue.value.length > 0);\r\n\r\n    // ============================================================================\r\n    // Actions - 銝???r\n    // ============================================================================\r\n\r\n    /** ?湔銝????*/\r\n    function updateDownloadStatus(status: boolean): void {\r\n        isDownloading.value = status;\r\n    }\r\n\r\n    /** 閮剖??脣漲璇??*/\r\n    function setProgressBarValue(value: string): void {\r\n        downloadProgressBarValue.value = value;\r\n    }\r\n\r\n    // ============================================================================\r\n    // Actions - 甇瑕閮?\r\n    // ============================================================================\r\n\r\n    /** 閮剖?甇瑕閮??” */\r\n    function setHistoryList(list: HistoryItem[] | null): void {\r\n        historyList.value = list;\r\n    }\r\n\r\n    /** 敺?獢??交風?脰???*/\r\n    async function fetchHistoryList(): Promise<void> {\r\n        try {\r\n            const log = await readTextFile('history.json', {\r\n                baseDir: BaseDirectory.AppData,\r\n            });\r\n            const data: HistoryData = JSON.parse(log);\r\n            const records = data.HISTORY_RECORDS?.reverse() ?? [];\r\n            historyList.value = records.length > 0 ? records : null;\r\n        } catch {\r\n            historyList.value = null;\r\n        }\r\n    }\r\n\r\n    /** ?啣?甇瑕閮?? */\r\n    async function addHistoryItem(item: {\r\n        title: string;\r\n        format: 'MP3' | 'MP4';\r\n        duration: string;\r\n        thumbnail: string;\r\n        quality: string;\r\n    }): Promise<void> {\r\n        if (!saveHistory.value) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const historyPath = 'history.json';\r\n\r\n            // 蝣箔??桅?摮\r\n            if (!(await exists(historyPath, { baseDir: BaseDirectory.AppData }))) {\r\n                await mkdir('', { baseDir: BaseDirectory.AppData, recursive: true });\r\n            }\r\n\r\n            // 霈????r\n            let jsonData: HistoryData = {\r\n                DOWNLOAD_COUNT_STATISTICS: { MP3: 0, MP4: 0 },\r\n                HISTORY_RECORDS: [],\r\n            };\r\n\r\n            try {\r\n                const content = await readTextFile(historyPath, {\r\n                    baseDir: BaseDirectory.AppData,\r\n                });\r\n                if (content) {\r\n                    jsonData = JSON.parse(content);\r\n                }\r\n            } catch {\r\n                // 敹賜霈?隤歹?雿輻?身?墦r\n            }\r\n\r\n            // 蝣箔?鞈?蝯?摰\r\n            if (!jsonData.DOWNLOAD_COUNT_STATISTICS) {\r\n                jsonData.DOWNLOAD_COUNT_STATISTICS = { MP3: 0, MP4: 0 };\r\n            }\r\n            if (!jsonData.HISTORY_RECORDS) {\r\n                jsonData.HISTORY_RECORDS = [];\r\n            }\r\n\r\n            // ?湔蝯梯?\r\n            if (item.format === 'MP3') {\r\n                jsonData.DOWNLOAD_COUNT_STATISTICS.MP3++;\r\n            } else {\r\n                jsonData.DOWNLOAD_COUNT_STATISTICS.MP4++;\r\n            }\r\n\r\n            // ?啣?閮?\r\n            const newRecord: HistoryItem = {\r\n                VIDEO_NAME: item.title,\r\n                FILE_FORMAT: item.format,\r\n                VIDEO_DURATION: item.duration || '00:00',\r\n                BANNER_IMAGE: item.thumbnail,\r\n                DOWNLOAD_TIME: Date.now(),\r\n                ...(item.format === 'MP3' && { AUDIO_QUALITY: item.quality }),\r\n                ...(item.format === 'MP4' && { VIDEO_QUALITY: item.quality }),\r\n            };\r\n\r\n            jsonData.HISTORY_RECORDS.unshift(newRecord);\r\n\r\n            // ?閮??賊?\r\n            if (jsonData.HISTORY_RECORDS.length > 200) {\r\n                jsonData.HISTORY_RECORDS = jsonData.HISTORY_RECORDS.slice(0, 200);\r\n            }\r\n\r\n            // ?脣?\r\n            await writeTextFile(historyPath, JSON.stringify(jsonData, null, 2), {\r\n                baseDir: BaseDirectory.AppData,\r\n            });\r\n\r\n            // ?頛\r\n            await fetchHistoryList();\r\n        } catch (err) {\r\n            console.error('Failed to write history:', err);\r\n        }\r\n    }\r\n\r\n    // ============================================================================\r\n    // Actions - 閮剖?\r\n    // ============================================================================\r\n\r\n    /** 閮剖?閬??批?其?蝵?*/\r\n    function setWindowControlsOnTheLeft(value: boolean): void {\r\n        windowControlOnTheLeft.value = value;\r\n    }\r\n\r\n    /** 閮剖?銝?頛詨頝臬? */\r\n    function setDownloadOutputPath(path: string): void {\r\n        downloadOutputPath.value = path;\r\n    }\r\n\r\n    /** 閮剖??臬?脣?甇瑕閮? */\r\n    function setSaveHistory(value: boolean): void {\r\n        saveHistory.value = value;\r\n    }\r\n\r\n    /** 閮剖?璈怠??? */\r\n    function setBannerImage(path: string): void {\r\n        bannerImage.value = path;\r\n    }\r\n\r\n    /** 敺?蝡航??亥身摰?*/\r\n    async function fetchSettings(): Promise<void> {\r\n        try {\r\n            const data = await invoke<AppSettings>('load_settings');\r\n            console.log('Loaded settings:', data);\r\n            windowControlOnTheLeft.value = data.WINDOW_CONTROLS_ON_THE_LEFT;\r\n            downloadOutputPath.value = data.DOWNLOAD_OUTPUT_PATH;\r\n            saveHistory.value = data.SAVE_HISTORY;\r\n            bannerImage.value = data.BANNER_IMAGE || '';\r\n        } catch (err) {\r\n            console.error('Failed to load settings from Rust backend:', err);\r\n        }\r\n    }\r\n\r\n    // ============================================================================\r\n    // Actions - 銝?雿?\r\n    // ============================================================================\r\n\r\n    /** ??桐???唬???*/\r\n    function addToQueue(item: QueueItemInput): void {\r\n        queueIdCounter.value++;\r\n        downloadQueue.value.push({\r\n            ...item,\r\n            id: queueIdCounter.value,\r\n            status: 'pending',\r\n            progress: 0,\r\n        });\r\n    }\r\n\r\n    /** ?憭??桀雿? */\r\n    function addMultipleToQueue(items: QueueItemInput[]): void {\r\n        items.forEach((item) => {\r\n            queueIdCounter.value++;\r\n            downloadQueue.value.push({\r\n                ...item,\r\n                id: queueIdCounter.value,\r\n                status: 'pending',\r\n                progress: 0,\r\n            });\r\n        });\r\n    }\r\n\r\n    /** 敺??宏?日???*/\r\n    function removeFromQueue(id: number): void {\r\n        const index = downloadQueue.value.findIndex((i) => i.id === id);\r\n        if (index > -1) {\r\n            downloadQueue.value.splice(index, 1);\r\n        }\r\n    }\r\n\r\n    /** 皜征雿? (靽?甇?銝????? */\r\n    function clearQueue(): void {\r\n        downloadQueue.value = downloadQueue.value.filter((i) => i.status === 'downloading');\r\n    }\r\n\r\n    /** 皜撌脣????航炊??????*/\r\n    function clearCompletedQueue(): void {\r\n        downloadQueue.value = downloadQueue.value.filter(\r\n            (i) => i.status !== 'completed' && i.status !== 'error'\r\n        );\r\n    }\r\n\r\n    /** ?湔雿?????*/\r\n    function updateQueueItemStatus(params: {\r\n        id: number;\r\n        status: QueueItem['status'];\r\n        progress?: number;\r\n    }): void {\r\n        const item = downloadQueue.value.find((i) => i.id === params.id);\r\n        if (item) {\r\n            item.status = params.status;\r\n            if (params.progress !== undefined) {\r\n                item.progress = params.progress;\r\n            }\r\n        }\r\n    }\r\n\r\n    /** ?湔甇?銝???脣漲 */\r\n    function updateQueueItemProgress(params: { progress: number }): void {\r\n        const downloading = downloadQueue.value.find((i) => i.status === 'downloading');\r\n        if (downloading) {\r\n            downloading.progress = params.progress;\r\n        }\r\n    }\r\n\r\n    /** 閮剖?雿??????*/\r\n    function setQueueProcessing(value: boolean): void {\r\n        isQueueProcessing.value = value;\r\n    }\r\n\r\n    // ============================================================================\r\n    // ?臬\r\n    // ============================================================================\r\n\r\n    return {\r\n        // State\r\n        isDownloading,\r\n        historyList,\r\n        downloadProgressBarValue,\r\n        windowControlOnTheLeft,\r\n        downloadOutputPath,\r\n        saveHistory,\r\n        bannerImage,\r\n        downloadQueue,\r\n        isQueueProcessing,\r\n\r\n        // Getters\r\n        pendingQueueCount,\r\n        hasQueueItems,\r\n\r\n        // Actions - 銝???r\n        updateDownloadStatus,\r\n        setProgressBarValue,\r\n\r\n        // Actions - 甇瑕閮?\r\n        setHistoryList,\r\n        fetchHistoryList,\r\n        addHistoryItem,\r\n\r\n        // Actions - 閮剖?\r\n        setWindowControlsOnTheLeft,\r\n        setDownloadOutputPath,\r\n        setSaveHistory,\r\n        setBannerImage,\r\n        fetchSettings,\r\n\r\n        // Actions - 銝?雿?\r\n        addToQueue,\r\n        addMultipleToQueue,\r\n        removeFromQueue,\r\n        clearQueue,\r\n        clearCompletedQueue,\r\n        updateQueueItemStatus,\r\n        updateQueueItemProgress,\r\n        setQueueProcessing,\r\n    };\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\stores\\download.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\stores\\history.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\stores\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\stores\\queue.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\stores\\settings.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\tests\\composables\\useClipboard.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\tests\\composables\\useYouTubeParser.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\tests\\services\\errorHandler.test.ts","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement. Only these console methods are allowed: warn, error.","line":147,"column":16,"nodeType":"MemberExpression","messageId":"limited","endLine":147,"endColumn":27},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement. Only these console methods are allowed: warn, error.","line":162,"column":16,"nodeType":"MemberExpression","messageId":"limited","endLine":162,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * ?航炊????皜祈岫\r\n */\r\n\r\nimport { describe, it, expect, beforeEach, vi } from 'vitest';\r\nimport {\r\n    AppError,\r\n    logger,\r\n    handleError,\r\n    normalizeError,\r\n    createNetworkError,\r\n    createDownloadError,\r\n    createFileSystemError,\r\n    createValidationError,\r\n    createBackendError,\r\n    clearLogs,\r\n    clearErrors,\r\n    trySafe,\r\n} from '@/services/errorHandler';\r\n\r\ndescribe('AppError', () => {\r\n    it('?府撱箇?撣嗆?甇?Ⅱ撅祆抒??航炊', () => {\r\n        const error = new AppError({\r\n            message: '皜祈岫?航炊',\r\n            category: 'NETWORK',\r\n            context: { url: 'https://example.com' },\r\n        });\r\n\r\n        expect(error.message).toBe('皜祈岫?航炊');\r\n        expect(error.category).toBe('NETWORK');\r\n        expect(error.context).toEqual({ url: 'https://example.com' });\r\n        expect(error.isUserFacing).toBe(true);\r\n        expect(error.timestamp).toBeInstanceOf(Date);\r\n    });\r\n\r\n    it('?府雿輻?身??, () => {\r\n        const error = new AppError({ message: '蝪∪?航炊' });\r\n\r\n        expect(error.category).toBe('UNKNOWN');\r\n        expect(error.context).toEqual({});\r\n        expect(error.isUserFacing).toBe(true);\r\n    });\r\n\r\n    it('?府?? cause ?航炊', () => {\r\n        const cause = new Error('???航炊');\r\n        const error = new AppError({\r\n            message: '???航炊',\r\n            cause,\r\n        });\r\n\r\n        expect(error.cause).toBe(cause);\r\n    });\r\n\r\n    it('getUserMessage ?府?雿輻??憟質???, () => {\r\n        const userFacingError = new AppError({\r\n            message: '雿輻?閬隤?,\r\n            isUserFacing: true,\r\n        });\r\n        expect(userFacingError.getUserMessage()).toBe('雿輻?閬隤?);\r\n\r\n        const internalError = new AppError({\r\n            message: '?折?航炊',\r\n            isUserFacing: false,\r\n        });\r\n        expect(internalError.getUserMessage()).toBe('?潛??芷????航炊嚗?蝔??岫');\r\n    });\r\n});\r\n\r\ndescribe('?航炊撌亙??賣', () => {\r\n    it('createNetworkError ?府撱箇? NETWORK 憿?航炊', () => {\r\n        const error = createNetworkError('蝬脰楝???憭望?');\r\n        expect(error.category).toBe('NETWORK');\r\n    });\r\n\r\n    it('createDownloadError ?府撱箇? DOWNLOAD 憿?航炊', () => {\r\n        const error = createDownloadError('銝?憭望?');\r\n        expect(error.category).toBe('DOWNLOAD');\r\n    });\r\n\r\n    it('createFileSystemError ?府撱箇? FILE_SYSTEM 憿?航炊', () => {\r\n        const error = createFileSystemError('?⊥?撖怠瑼?');\r\n        expect(error.category).toBe('FILE_SYSTEM');\r\n    });\r\n\r\n    it('createValidationError ?府撱箇? VALIDATION 憿?航炊', () => {\r\n        const error = createValidationError('?⊥???URL');\r\n        expect(error.category).toBe('VALIDATION');\r\n    });\r\n\r\n    it('createBackendError ?府撱箇? BACKEND 憿?航炊', () => {\r\n        const error = createBackendError('敺垢?航炊');\r\n        expect(error.category).toBe('BACKEND');\r\n    });\r\n});\r\n\r\ndescribe('normalizeError', () => {\r\n    it('?府?湔? AppError', () => {\r\n        const appError = new AppError({ message: '?Ｘ??航炊' });\r\n        expect(normalizeError(appError)).toBe(appError);\r\n    });\r\n\r\n    it('?府撠?Error 頧???AppError', () => {\r\n        const error = new Error('璅??航炊');\r\n        const normalized = normalizeError(error);\r\n\r\n        expect(normalized).toBeInstanceOf(AppError);\r\n        expect(normalized.message).toBe('璅??航炊');\r\n    });\r\n\r\n    it('?府撠?銝脰?? AppError', () => {\r\n        const normalized = normalizeError('摮葡?航炊');\r\n\r\n        expect(normalized).toBeInstanceOf(AppError);\r\n        expect(normalized.message).toBe('摮葡?航炊');\r\n    });\r\n\r\n    it('?府???芰憿?', () => {\r\n        const normalized = normalizeError({ custom: 'object' });\r\n\r\n        expect(normalized).toBeInstanceOf(AppError);\r\n        expect(normalized.message).toBe('?潛??芰?航炊');\r\n    });\r\n\r\n    it('?府?芸???蝬脰楝?航炊', () => {\r\n        const error = new Error('Network request failed');\r\n        const normalized = normalizeError(error);\r\n        expect(normalized.category).toBe('NETWORK');\r\n    });\r\n\r\n    it('?府?芸???銝??航炊', () => {\r\n        const error = new Error('yt-dlp failed to download');\r\n        const normalized = normalizeError(error);\r\n        expect(normalized.category).toBe('DOWNLOAD');\r\n    });\r\n});\r\n\r\ndescribe('logger', () => {\r\n    beforeEach(() => {\r\n        clearLogs();\r\n        vi.spyOn(console, 'log').mockImplementation(() => {});\r\n        vi.spyOn(console, 'warn').mockImplementation(() => {});\r\n        vi.spyOn(console, 'error').mockImplementation(() => {});\r\n    });\r\n\r\n    it('?府閮? info ?亥?', () => {\r\n        logger.info('皜祈岫閮');\r\n        expect(console.log).toHaveBeenCalled();\r\n    });\r\n\r\n    it('?府閮? warn ?亥?', () => {\r\n        logger.warn('霅血?閮');\r\n        expect(console.warn).toHaveBeenCalled();\r\n    });\r\n\r\n    it('?府閮? error ?亥?', () => {\r\n        logger.error('?航炊閮');\r\n        expect(console.error).toHaveBeenCalled();\r\n    });\r\n\r\n    it('?府?亙? context ?', () => {\r\n        logger.info('撣嗆? context', { key: 'value' });\r\n        expect(console.log).toHaveBeenCalled();\r\n    });\r\n});\r\n\r\ndescribe('handleError', () => {\r\n    beforeEach(() => {\r\n        clearErrors();\r\n        vi.spyOn(console, 'error').mockImplementation(() => {});\r\n    });\r\n\r\n    it('?府?? AppError', async () => {\r\n        const error = new AppError({ message: '皜祈岫?航炊' });\r\n        const result = await handleError(error);\r\n\r\n        expect(result).toBe(error);\r\n    });\r\n\r\n    it('?府??銝??Error', async () => {\r\n        const error = new Error('璅??航炊');\r\n        const result = await handleError(error);\r\n\r\n        expect(result).toBeInstanceOf(AppError);\r\n        expect(result.message).toBe('璅??航炊');\r\n    });\r\n});\r\n\r\ndescribe('trySafe', () => {\r\n    beforeEach(() => {\r\n        vi.spyOn(console, 'error').mockImplementation(() => {});\r\n    });\r\n\r\n    it('????閰脣??喟???, async () => {\r\n        const result = await trySafe(() => Promise.resolve('success'));\r\n        expect(result).toBe('success');\r\n    });\r\n\r\n    it('憭望???閰脣???undefined', async () => {\r\n        const result = await trySafe(() => Promise.reject(new Error('憭望?')));\r\n        expect(result).toBeUndefined();\r\n    });\r\n\r\n    it('憭望???閰脣???fallback ??, async () => {\r\n        const result = await trySafe(() => Promise.reject(new Error('憭望?')), {\r\n            fallback: 'default',\r\n        });\r\n        expect(result).toBe('default');\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\tests\\setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\tests\\stores\\app.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\tests\\stores\\download.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\tests\\stores\\queue.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\tests\\stores\\settings.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\tests\\utils\\performance.test.ts","messages":[{"ruleId":"@typescript-eslint/explicit-function-return-type","severity":1,"message":"Missing return type on function.","line":181,"column":45,"nodeType":"ArrowFunctionExpression","messageId":"missingReturnType","endLine":181,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * ?撌亙?賣皜祈岫\r\n */\r\n\r\nimport { describe, it, expect, vi, beforeEach, afterEach } from 'vitest';\r\nimport {\r\n    debounce,\r\n    throttle,\r\n    memoize,\r\n    formatFileSize,\r\n    formatDuration,\r\n    processBatch,\r\n} from '@/utils/performance';\r\n\r\ndescribe('debounce', () => {\r\n    beforeEach(() => {\r\n        vi.useFakeTimers();\r\n    });\r\n\r\n    afterEach(() => {\r\n        vi.useRealTimers();\r\n    });\r\n\r\n    it('?府撱園?瑁??賣', () => {\r\n        const fn = vi.fn();\r\n        const debouncedFn = debounce(fn, 100);\r\n\r\n        debouncedFn();\r\n        expect(fn).not.toHaveBeenCalled();\r\n\r\n        vi.advanceTimersByTime(100);\r\n        expect(fn).toHaveBeenCalledTimes(1);\r\n    });\r\n\r\n    it('????澆??閰脣?瑁??敺?甈?, () => {\r\n        const fn = vi.fn();\r\n        const debouncedFn = debounce(fn, 100);\r\n\r\n        debouncedFn();\r\n        debouncedFn();\r\n        debouncedFn();\r\n\r\n        vi.advanceTimersByTime(100);\r\n        expect(fn).toHaveBeenCalledTimes(1);\r\n    });\r\n\r\n    it('?府?喲?甇?Ⅱ????, () => {\r\n        const fn = vi.fn();\r\n        const debouncedFn = debounce(fn, 100);\r\n\r\n        debouncedFn('arg1', 'arg2');\r\n        vi.advanceTimersByTime(100);\r\n\r\n        expect(fn).toHaveBeenCalledWith('arg1', 'arg2');\r\n    });\r\n});\r\n\r\ndescribe('throttle', () => {\r\n    beforeEach(() => {\r\n        vi.useFakeTimers();\r\n    });\r\n\r\n    afterEach(() => {\r\n        vi.useRealTimers();\r\n    });\r\n\r\n    it('?府蝡?瑁?蝚砌?甈∪??, () => {\r\n        const fn = vi.fn();\r\n        const throttledFn = throttle(fn, 100);\r\n\r\n        throttledFn();\r\n        expect(fn).toHaveBeenCalledTimes(1);\r\n    });\r\n\r\n    it('?券??嗆????急?閰脰◤敹賜', () => {\r\n        const fn = vi.fn();\r\n        const throttledFn = throttle(fn, 100);\r\n\r\n        throttledFn();\r\n        throttledFn();\r\n        throttledFn();\r\n\r\n        expect(fn).toHaveBeenCalledTimes(1);\r\n    });\r\n\r\n    it('??????府?臭誑?活?瑁?', () => {\r\n        const fn = vi.fn();\r\n        const throttledFn = throttle(fn, 100);\r\n\r\n        throttledFn();\r\n        vi.advanceTimersByTime(100);\r\n        throttledFn();\r\n\r\n        expect(fn).toHaveBeenCalledTimes(2);\r\n    });\r\n});\r\n\r\ndescribe('memoize', () => {\r\n    it('?府敹怠??賣蝯?', () => {\r\n        const fn = vi.fn((x: number) => x * 2);\r\n        const memoizedFn = memoize(fn);\r\n\r\n        expect(memoizedFn(5)).toBe(10);\r\n        expect(memoizedFn(5)).toBe(10);\r\n        expect(fn).toHaveBeenCalledTimes(1);\r\n    });\r\n\r\n    it('銝???府?瑁??賣', () => {\r\n        const fn = vi.fn((x: number) => x * 2);\r\n        const memoizedFn = memoize(fn);\r\n\r\n        expect(memoizedFn(5)).toBe(10);\r\n        expect(memoizedFn(10)).toBe(20);\r\n        expect(fn).toHaveBeenCalledTimes(2);\r\n    });\r\n\r\n    it('?府??憭???, () => {\r\n        const fn = vi.fn((a: number, b: number) => a + b);\r\n        const memoizedFn = memoize(fn);\r\n\r\n        expect(memoizedFn(1, 2)).toBe(3);\r\n        expect(memoizedFn(1, 2)).toBe(3);\r\n        expect(memoizedFn(2, 3)).toBe(5);\r\n        expect(fn).toHaveBeenCalledTimes(2);\r\n    });\r\n});\r\n\r\ndescribe('formatFileSize', () => {\r\n    it('?府?澆?????', () => {\r\n        expect(formatFileSize(0)).toBe('0 Bytes');\r\n        expect(formatFileSize(500)).toBe('500 Bytes');\r\n    });\r\n\r\n    it('?府?澆???KB', () => {\r\n        expect(formatFileSize(1024)).toBe('1 KB');\r\n        expect(formatFileSize(1536)).toBe('1.5 KB');\r\n    });\r\n\r\n    it('?府?澆???MB', () => {\r\n        expect(formatFileSize(1048576)).toBe('1 MB');\r\n        expect(formatFileSize(5242880)).toBe('5 MB');\r\n    });\r\n\r\n    it('?府?澆???GB', () => {\r\n        expect(formatFileSize(1073741824)).toBe('1 GB');\r\n    });\r\n});\r\n\r\ndescribe('formatDuration', () => {\r\n    it('?府?澆?????, () => {\r\n        expect(formatDuration(0)).toBe('0:00');\r\n        expect(formatDuration(30)).toBe('0:30');\r\n    });\r\n\r\n    it('?府?澆?????, () => {\r\n        expect(formatDuration(60)).toBe('1:00');\r\n        expect(formatDuration(90)).toBe('1:30');\r\n        expect(formatDuration(125)).toBe('2:05');\r\n    });\r\n\r\n    it('?府?澆?????, () => {\r\n        expect(formatDuration(3600)).toBe('1:00:00');\r\n        expect(formatDuration(3661)).toBe('1:01:01');\r\n        expect(formatDuration(7265)).toBe('2:01:05');\r\n    });\r\n});\r\n\r\ndescribe('processBatch', () => {\r\n    it('?府?寞活?????', async () => {\r\n        const items = [1, 2, 3, 4, 5];\r\n        const processor = vi.fn((x: number) => x * 2);\r\n\r\n        const results = await processBatch(items, processor, 2);\r\n\r\n        expect(results).toEqual([2, 4, 6, 8, 10]);\r\n        expect(processor).toHaveBeenCalledTimes(5);\r\n    });\r\n\r\n    it('?府???唳郊????, async () => {\r\n        const items = [1, 2, 3];\r\n        const processor = async (x: number) => {\r\n            await new Promise((r) => setTimeout(r, 10));\r\n            return x * 2;\r\n        };\r\n\r\n        const results = await processBatch(items, processor, 2);\r\n\r\n        expect(results).toEqual([2, 4, 6]);\r\n    });\r\n\r\n    it('?府?喲?甇?Ⅱ?揣撘?, async () => {\r\n        const items = ['a', 'b', 'c'];\r\n        const processor = vi.fn((item: string, index: number) => `${item}-${index}`);\r\n\r\n        await processBatch(items, processor, 2);\r\n\r\n        expect(processor).toHaveBeenCalledWith('a', 0);\r\n        expect(processor).toHaveBeenCalledWith('b', 1);\r\n        expect(processor).toHaveBeenCalledWith('c', 2);\r\n    });\r\n});\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\tests\\utils\\youtube.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\utils\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\utils\\performance.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\tabet\\Documents\\Local Code\\YTD-CC\\src\\utils\\youtube.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
